<!DOCTYPE html><html><head><meta charset="utf8"/><title>fintrospect</title><link rel="icon" type="image/png" href="images/eye-32px.png"/><link rel="stylesheet" href="css/global.css"/><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans|Source+Code+Pro"/><script src="js/jquery/jquery.min.js"></script><script src="js/bootstrap/bootstrap.js"></script></head><body><header><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button data-toggle="collapse" data-target="#navbar-top-collapse-1" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="." class="navbar-brand">fintrospect</a></div><div id="navbar-top-collapse-1" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="https://travis-ci.org/daviddenton/fintrospect" target="_top"><img src="https://travis-ci.org/daviddenton/fintrospect.svg?branch=master"/></a></li><li><a href="https://coveralls.io/github/daviddenton/fintrospect?branch=master" target="_top"><img src="https://coveralls.io/repos/daviddenton/fintrospect/badge.svg?branch=master"/></a></li><li><a href="https://bintray.com/daviddenton/maven/fintrospect/_latestVersion" target="_top"><img src="https://api.bintray.com/packages/daviddenton/maven/fintrospect/images/download.svg"/></a></li><li><a href="http://github.com/daviddenton/fintrospect" target="_top"><img src="images/GitHub-Mark-32px.png"/></a></li></ul></div></div></nav></header><main><div class="container"><div class="row"><div class="col-sm-3"><div class="logo"><img src="images/eye.png"/></div><ul class="nav nav-pills nav-stacked nav-docs"><li><h1>guide</h1></li><li><a href=".">overview</a></li><li><a href="installation">installation</a></li><li><a href="request-parameters-and-bodies">request parameters & bodies</a></li><li><a href="defining-routes">defining routes</a></li><li><a href="server-routes">server routes</a></li><li><a href="client-routes">client routes</a></li><li><a href="building-http-responses">building http responses</a></li><li><a href="templating-and-static-content">templating and static content</a></li><li><a href="testing">testing</a></li><li><h1>misc</h1></li><li><a href="changelog">changelog & migration</a></li></ul></div><div class="col-sm-9"><article class="article-docs"><h1>overview</h1><p>Fintrospect a library that adds an intelligent HTTP routing layer to the 
<a href="http://twitter.github.io/finagle/" target="_top">Finagle</a> RPC framework from Twitter. It provides a simple way to 
implement contracts for both server and client-side HTTP services which are:</p>
<ul>
<li><code>Type-safe</code> : auto-marshalls all request parameters/bodies into the correct types (including primitives + JSON/XML etc...)</li>
<li><code>Auto-validating</code> : the presence of required and optional request parameters and bodies are checked before entering service-layer code</li>
<li><code>Auto-documenting</code> : runtime generation of endpoint documentation such as <a href="http://swagger.io/" target="_top">Swagger</a> JSON or web sitemap XML</li>
<li><code>Uniform</code> : reuse the same contract to define both incoming or outgoing Finagle HTTP services. This also allows extremely low effort fake servers to be created</li>
</ul>
<p>Additionally, Fintrospect provides a number of mechanisms to leverage these routes:</p>
<ul>
<li>Easily build type-safe HTTP responses with a set of custom builders for a wide variety of message formats:<ul>
<li>JSON: <a href="http://argo.sourceforge.net/" target="_top">Argo</a>, <a href="http://argonaut.io/" target="_top">Argonaut</a>, <a href="https://github.com/travisbrown/circe" target="_top">Circe</a>, <a href="https://github.com/google/gson" target="_top">GSON</a>, <a href="http://json4s.org/" target="_top">Json4S</a>, <a href="https://github.com/google/gson" target="_top">Play JSON</a>, <a href="https://github.com/google/gson" target="_top">Spray JSON</a></li>
<li>Native implementations of XML, Plain Text, HTML, XHTML</li>
</ul>
</li>
<li>Serve static files from the classpath</li>
<li>Template <code>View</code> support for building responses with <a href="http://mustache.github.io/" target="_top">Mustache</a> or <a href="http://handlebarsjs.com" target="_top">Handlebars</a></li>
<li>Anonymising headers for dynamic-path based endpoints, removing all dynamic path elements. This allows, for example, calls to particular endpoints to be grouped for metric purposes. e.g. 
<code>/search/author/rowling</code> becomes <code>/search/author/{name}</code></li>
<li>Utilities to help you unit-test endpoint services and write HTTP contract tests for remote dependencies </li>
</ul>
<h3>broad concepts</h3><p>Fintrospect is a library designed to facilitate painless definition, serving and consumption of HTTP APIs. It uses the following main concepts:</p>
<ul>
<li><code>RouteSpec</code>: defines the overall HTTP contract of an endpoint. This contract can then be bound to a Finagle Service representing an HTTP client, or bundled into a Module and attached to a Finagle HTTP server.</li>
<li><code>ParameterSpec</code>: defines the acceptable format for a request parameter (Path/Query/Header/Form-field). Provides the auto-marshalling mechanic for serializing and deserializing objects to and from HTTP message.</li>
<li><code>BodySpec</code>: similar to ParameterSpec, but applied to the body of an HTTP message.</li>
<li><code>ModuleSpec</code>: defines a set of Routes which are grouped under a particular request path. These modules can be combined and then converted to a Finagle service and attached to a Finagle HTTP server. Each module provides an 
endpoint under which it&#39;s own runtime-generated documentation can be served (eg. in Swagger format).</li>
</ul>
<p>Note that in order to aid the reader, the code in this guide has omitted imports that would have made the it read more nicely. The sacrifices we make in the name of learning... :)</p>
<h3>regarding finagle</h3><p>Since Fintrospect is build on top of Finagle, it&#39;s worth acquainting yourself with it&#39;s concepts, which can be found <a target="_top" href="http://twitter.github.io/finagle/guide" target="_top">here</a>. </p>
<h4>&tldr; finagle primer:</h4><ol>
<li>Finagle provides protocol-agnostic RPC and is based on Netty</li>
<li>It is mainly asynchronous and makes heavy usage of Twitter&#39;s version of Scala Futures</li>
<li>It defines uniform <code>Service</code> and <code>Filter</code> interfaces for both client and server APIs that are effectively a single method...<pre><code class="language-scala">Service:  def apply(request : Request) : Future[Response]
Filter:   def apply(request : RequestIn, service : Service[RequestOut, ResponseIn]) : Future[ResponseOut]
</code></pre>
</li>
<li><code>Filters</code> can be chained together and then applied to a <code>Service</code>, which results in another <code>Service</code>. This is useful to 
apply layers of functionality such as caching headers, retry behaviour, and timeouts.</li>
</ol></article></div></div></div></main><footer><span class="left">project maintained by <a target="_top" href="https://github.com/daviddenton">daviddenton</a></span><span class="right"> site powered by <a target="_top" href="https://github.com/jvandemo/hb-bootstrap">hb-bootstrap</a> for <a target="_top" href="http://harpjs.com">Harp</a> by <a target="_top" href="http://www.jvandemo.com">Jurgen Van de Moere</a></span><script>$(function () { $('[data-toggle="tooltip"]').tooltip() })</script></footer></body></html>