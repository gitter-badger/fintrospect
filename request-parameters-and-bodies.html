<!DOCTYPE html><html><head><meta charset="utf8"/><title>fintrospect</title><link rel="stylesheet" href="css/global.css"/><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans|Source+Code+Pro"/><script src="js/jquery/jquery.min.js"></script><script src="js/bootstrap/bootstrap.js"></script></head><body><header><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button data-toggle="collapse" data-target="#navbar-top-collapse-1" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">fintrospect</a></div><div id="navbar-top-collapse-1" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="https://travis-ci.org/daviddenton/fintrospect"><img src="https://travis-ci.org/daviddenton/fintrospect.svg?branch=master"/></a></li><li><a href="https://coveralls.io/github/daviddenton/fintrospect?branch=master"><img src="https://coveralls.io/repos/daviddenton/fintrospect/badge.svg?branch=master"/></a></li><li><a href="https://bintray.com/daviddenton/maven/fintrospect/_latestVersion"><img src="https://api.bintray.com/packages/daviddenton/maven/fintrospect/images/download.svg"/></a></li><li><a href="http://github.com/daviddenton/fintrospect"><img src="images/GitHub-Mark-32px.png"/></a></li></ul></div></div></nav></header><main><div class="container"><div class="row"><div class="col-sm-3"><ul class="nav nav-pills nav-stacked nav-docs"><li><a href=".">introduction</a></li><li><h1>guide</h1></li><li><a href="regarding-finagle">regarding finagle</a></li><li><a href="installation">installation</a></li><li class="active"><a href="request-parameters-and-bodies">request parameters & bodies</a></li><li><a href="routes">routes</a></li><li><a href="using-routes">using routes</a></li><li><a href="building-http-responses">building http responses</a></li><li><a href="templating-and-static-content">templating and static content</a></li><li><h1>misc</h1></li><li><a href="changelog">changelog & migration</a></li></ul></div><div class="col-sm-9"><article class="article-docs"><h1>request parameters and bodies</h1><h2>defining</h2><p>As can be seen previously, request parameters are created in a uniform way using the standardised objects Path, Header, Query, FormField and Body. The general form for definition is: <code>&lt;parameter location&gt;.&lt;required|optional&gt;.&lt;param type&gt;(&quot;name&quot;)</code>
Since Path and Body parameters are always required, the middle step is omitted from this form for these types.</p>
<p>There are convenience methods for a standard set of &quot;primitive&quot; types, plus extensions for other common formats such as native Scala XML, Forms (body only) and JSON (more on this later).</p>
<h2>custom formats</h2><p>These can be implemented by defining a ParameterSpec or BodySpec and passing this in instead of calling the <code>&lt;param type&gt;</code> method in the form above. These Spec objects define the serialization and deserialization mechanisms from the String format that comes in on the request. An example for a simple domain case class Birthday:</p>
<pre><code>case class Birthday(value: LocalDate) {
   override def toString = value.toString
}

object Birthday {
    def from(s: String) = Birthday(LocalDate.parse(s))
}

val birthdayAsAQueryParam = Query.required(ParameterSpec[Birthday](&quot;DOB&quot;, None, StringParamType, Birthday.from, _.toString))

val birthdayAsABody = Body(BodySpec[Birthday](Option(&quot;DOB&quot;), ContentTypes.TEXT_PLAIN, Birthday.from, _.toString))
</code></pre><p>Note that in the above we are only concerned with the happy case on-the-wire values. The serialize and deserialize methods should throw exceptions if unsuccessful - these are caught by the request validation mechanism and turned into a rejected BadRequest (400) response which is returned to the caller.</p></article></div></div></div></main><footer>Powered by <a href="https://github.com/jvandemo/hb-bootstrap">hb-bootstrap</a> for <a href="http://harpjs.com">Harp</a> by <a href="http://www.jvandemo.com">Jurgen Van de Moere</a></footer></body></html>